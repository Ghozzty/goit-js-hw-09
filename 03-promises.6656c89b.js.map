{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SACAD,EAAAE,OAAOC,KAAK,CAAEC,SAAU,kBAExB,MAAMC,EAAOC,SAASC,cAAc,SAEpC,IAAIC,EAAS,EACbF,SAASC,cAAc,sBAAsBE,iBAAiB,SAASC,IACrEF,EAASG,OAAOD,EAAEE,cAAcC,UAGlC,IAAIC,EAAQ,EACZ,MAAMC,EAAYT,SAASC,cAAc,qBAEzCQ,EAAUN,iBAAiB,SAASC,IAClCI,EAAQH,OAAOD,EAAEE,cAAcC,UAIjC,IAAIG,EAAO,EAWX,SAASC,EAAcb,EAAUc,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEhB,EAAUsB,MAAAR,IAEpBG,EAAO,C,SAAEjB,EAAUsB,MAAAR,MAEpBA,MAnBPZ,SACGC,cAAc,oBACdE,iBAAiB,SAASC,GAAMM,EAAOL,OAAOD,EAAEE,cAAcC,SAIjER,EAAKI,iBAAiB,UA4BtB,SAAqBC,GAGnB,GAFAA,EAAEiB,kBAVJ,WACE,QAAIb,EAAQ,GAAKE,EAAO,GAAKR,EAAS,GAWjCoB,GACH,OAAO5B,EAAAE,OAAO2B,QAAQ,6BAGxB,IAAIC,EAAW,EAEf,IAAK,IAAIC,EAAI,EAAGA,EAAIvB,EAAQuB,GAAK,EAC/Bd,EAAca,EAAUhB,GACrBkB,MAAK,EAAC5B,SAAEA,EAAUsB,MAAAO,MACjBjC,EAAAE,OAAOgC,QAAQ,uBAAqB9B,QAAiB6B,UAEtDE,OAAM,EAAC/B,SAAEA,EAAUsB,MAAAU,MAClBpC,EAAAE,OAAO2B,QAAQ,sBAAoBzB,QAAegC,UAEtDN,GAAY,EACZhB,GAASE,EAEXF,EAAQH,OAAOI,EAAUF","sources":["src/js/03-promises.js"],"sourcesContent":["// lib\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nNotify.init({ position: 'center-center' });\n// refs\nconst form = document.querySelector('.form');\n// ref__amount\nlet amount = 0;\ndocument.querySelector('input[name=amount]').addEventListener('input', e => {\n  amount = Number(e.currentTarget.value);\n});\n//  ref__delay\nlet delay = 0;\nconst delayItem = document.querySelector('input[name=delay]');\n\ndelayItem.addEventListener('input', e => {\n  delay = Number(e.currentTarget.value);\n});\n\n// ref__step\nlet step = 0;\ndocument\n  .querySelector('input[name=step]')\n  .addEventListener('input', e => (step = Number(e.currentTarget.value)));\n\n// main event\n\nform.addEventListener('submit', submitEvent);\n\n// createPromise\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\n// check values\n\nfunction isCorrectValues() {\n  if (delay < 0 || step < 0 || amount < 1) {\n    return false;\n  }\n  return true;\n}\n\n// function submit event\n\nfunction submitEvent(e) {\n  e.preventDefault();\n\n  if (!isCorrectValues()) {\n    return Notify.failure(`Please set correct values`);\n  }\n\n  let position = 1;\n\n  for (let i = 0; i < amount; i += 1) {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    position += 1;\n    delay += step;\n  }\n  delay = Number(delayItem.value);\n}\n"],"names":["$iQIUW","parcelRequire","Notify","init","position","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$amount","addEventListener","e","Number","currentTarget","value","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$delayItem","$47d4ff9957288465$var$step","$47d4ff9957288465$var$createPromise","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","preventDefault","$47d4ff9957288465$var$isCorrectValues","failure","position1","i","then","delay2","success","catch","delay3"],"version":3,"file":"03-promises.6656c89b.js.map"}