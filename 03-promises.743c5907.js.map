{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SACAD,EAAAE,OAAOC,KAAK,CAAEC,SAAU,kBAExB,IAAMC,EAAOC,SAASC,cAAc,SAEhCC,EAAS,EACbF,SAASC,cAAc,sBAAsBE,iBAAiB,SAAS,SAAAC,GACrEF,EAASG,OAAOD,EAAEE,cAAcC,UAGlC,IAAIC,EAAQ,EACNC,EAAYT,SAASC,cAAc,qBAEzCQ,EAAUN,iBAAiB,SAAS,SAAAC,GAClCI,EAAQH,OAAOD,EAAEE,cAAcC,UAIjC,IAAIG,EAAO,EAWX,SAASC,EAAcb,EAAUc,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAAEhB,WAAUsB,MAAAR,IAEpBG,EAAO,CAAEjB,WAAUsB,MAAAR,MAEpBA,MAnBPZ,SACGC,cAAc,oBACdE,iBAAiB,SAAS,SAAAC,G,OAAMM,EAAOL,OAAOD,EAAEE,cAAcC,UAIjER,EAAKI,iBAAiB,UA4BtB,SAAqBC,GAGnB,GAFAA,EAAEiB,kBAVJ,WACE,QAAIb,EAAQ,GAAKE,EAAO,GAAKR,EAAS,GAWjCoB,GACH,OAAO5B,EAAAE,OAAO2B,QAAS,6BAKzB,IAFA,IAAIC,EAAW,EAENC,EAAI,EAAGA,EAAIvB,EAAQuB,GAAK,EAC/Bd,EAAca,EAAUhB,GACrBkB,MAAK,SAAAC,G,IAAG7B,EAAQ6B,EAAR7B,SAAU8B,EAAKD,EAALP,MACjB1B,EAAAE,OAAOiC,QAAQ,uBAAwCC,OAAfhC,EAAS,QAAYgC,OAANF,EAAM,UAE9DG,OAAM,SAAAJ,G,IAAG7B,EAAQ6B,EAAR7B,SAAUkC,EAAKL,EAALP,MAClB1B,EAAAE,OAAO2B,QAAQ,sBAAqCO,OAAfhC,EAAS,QAAYgC,OAANE,EAAM,UAE9DR,GAAY,EACZhB,GAASE,EAEXF,EAAQH,OAAOI,EAAUF,U","sources":["src/js/03-promises.js"],"sourcesContent":["// lib\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nNotify.init({ position: 'center-center' });\n// refs\nconst form = document.querySelector('.form');\n// ref__amount\nlet amount = 0;\ndocument.querySelector('input[name=amount]').addEventListener('input', e => {\n  amount = Number(e.currentTarget.value);\n});\n//  ref__delay\nlet delay = 0;\nconst delayItem = document.querySelector('input[name=delay]');\n\ndelayItem.addEventListener('input', e => {\n  delay = Number(e.currentTarget.value);\n});\n\n// ref__step\nlet step = 0;\ndocument\n  .querySelector('input[name=step]')\n  .addEventListener('input', e => (step = Number(e.currentTarget.value)));\n\n// main event\n\nform.addEventListener('submit', submitEvent);\n\n// createPromise\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\n// check values\n\nfunction isCorrectValues() {\n  if (delay < 0 || step < 0 || amount < 1) {\n    return false;\n  }\n  return true;\n}\n\n// function submit event\n\nfunction submitEvent(e) {\n  e.preventDefault();\n\n  if (!isCorrectValues()) {\n    return Notify.failure(`Please set correct values`);\n  }\n\n  let position = 1;\n\n  for (let i = 0; i < amount; i += 1) {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    position += 1;\n    delay += step;\n  }\n  delay = Number(delayItem.value);\n}\n"],"names":["$h6c0i","parcelRequire","Notify","init","position","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$amount","addEventListener","e","Number","currentTarget","value","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$delayItem","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$createPromise","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","preventDefault","$ce04d3a99e08e73b$var$isCorrectValues","failure","position1","i","then","param","delay2","success","concat","catch","delay3"],"version":3,"file":"03-promises.743c5907.js.map"}